<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solemate - Find Your Perfect Pair</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/stylesheet/shop.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <a href="#" class="logo">
            <i class="fas fa-shoe-prints"></i>
            Sole<span>mate</span>
        </a>
        <div class="nav-links">
            <a href="/users/shop">Home</a>
            <a href="/users/men">Men</a>
            <a href="/users/women">Women</a>
            <a href="/users/kid">Kids</a>
            <a href="/users/profile"><i class="fas fa-user"></i> Profile</a>
            <a href="/users/cart"><i class="fas fa-shopping-cart"></i> Cart <span class="cart-count">3</span></a>
        </div>
    </nav>
    
    <!-- Main Content -->
    <div class="container">
        <!-- Filters Section -->
        <aside class="filters">
            <h3>Filters</h3>
            
            <div class="filter-section">
                <h4>Categories</h4>
                <div class="filter-options">
                    <div class="filter-option">
                        <input type="checkbox" id="sneakers" checked>
                        <label for="sneakers">Sneakers</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="running" checked>
                        <label for="running">Running</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="casual" checked>
                        <label for="casual">Casual</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="formal" checked>
                        <label for="formal">Formal</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="sports" checked>
                        <label for="sports">Sports</label>
                    </div>
                </div>
            </div>
            
            <div class="filter-section">
                <h4>Price Range</h4>
                <input type="range" class="price-range" min="1000" max="10000" value="5000">
                <div class="price-values">
                    <span>₹1000</span>
                    <span>₹5000</span>
                    <span>₹10000</span>
                </div>
            </div>
            
            <div class="filter-section">
                <h4>Brand</h4>
                <div class="filter-options">
                    <div class="filter-option">
                        <input type="checkbox" id="nike" checked>
                        <label for="nike">Nike</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="adidas" checked>
                        <label for="adidas">Adidas</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="puma" checked>
                        <label for="puma">Puma</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="reebok" checked>
                        <label for="reebok">Reebok</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="vans" checked>
                        <label for="vans">Vans</label>
                    </div>
                </div>
            </div>
            
            <div class="filter-section">
                <h4>Size</h4>
                <div class="filter-options">
                    <div class="filter-option">
                        <input type="checkbox" id="size-7">
                        <label for="size-7">7</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-8" checked>
                        <label for="size-8">8</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-9" checked>
                        <label for="size-9">9</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-10">
                        <label for="size-10">10</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-11">
                        <label for="size-11">11</label>
                    </div>
                </div>
            </div>
            
            <button class="apply-filters">Apply Filters</button>
        </aside>
        
        <!-- Products Grid -->
        <main class="products">

        <% productitems.reverse().forEach((product)=>{ %>
             <!-- Product Card  -->
            
            <div class="product-card">
                <button class="wishlist-btn"><i class="far fa-heart"></i></button>
           <% if (product.productimage && product.productimage.data) { %>

  <a href="/users/productdetails/<%= product._id %>">
  <img 
    src="data:<%= product.productimage.contentType %>;base64,<%= product.productimage.data.toString('base64') %>" 
    alt="Product Image" 
    class="product-image"
  />
<% } else { %>
  <img 
    src="/default-image.jpg" 
    alt="Default Product" 
    class="product-image"
  />
<% } %>
</a>
                <div class="product-info">
                    <h3 class="product-name"><%= product.productname %></h3>
                    <p class="product-brand"><%= product.brand %></p>
                    <div class="product-price">
                        <span class="current-price">₹<%= product.price - eval((product.price*product.discount)/100) %></span>
                        <span class="original-price">₹<%= product.price %></span>
                        <span class="discount"><%= product.discount %>% OFF</span>
                    </div>
                   <button class="add-to-cart" data-id="<%= product._id %>">
                        <i class="fas fa-shopping-cart" ></i> Add to Cart
                    </button>
                    
                </div>
            </div>
         
        <% }) %>
            
        </main>
    </div>

    <script src="/javascript/shop.js"></script>
       
</body>
</html>